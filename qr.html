<!DOCTYPE html>
<html lang="vi">
<head>
	<meta charset="utf-8">
	<meta name="viewport" content="width=device-width, initial-scale=1">
	<title>QR → index.html</title>
	<style>
		* { box-sizing: border-box; }
		html, body { height: 100%; }
		body {
			margin: 0;
			display: grid;
			place-items: center;
			background: #0f1226;
		}
		.wrapper {
			background: #ffffff;
			padding: 24px;
			border-radius: 12px;
			box-shadow: 0 10px 30px rgba(0,0,0,0.35);
			text-align: center;
		}
		.text {
			font-family: system-ui, -apple-system, Segoe UI, Roboto, Arial, sans-serif;
			font-size: 18px;
			font-weight: 600;
			color: #333;
			margin-bottom: 16px;
			line-height: 1.5;
		}
		img {
			display: block;
			width: min(80vw, 420px);
			height: auto;
			margin: 0 auto;
		}
	</style>
	<link rel="preconnect" href="https://fonts.googleapis.com">
	<link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
</head>
<body>
	<div class="wrapper">
		<div class="text">Hãy quét mã QR này</div>
		<img id="qr" alt="QR → index.html">
	</div>
	<script>
		function buildQrSrc(u, size = 768){
			const enc = encodeURIComponent(u);
			return `https://chart.googleapis.com/chart?cht=qr&chs=${size}x${size}&chld=L|0&chl=${enc}`;
		}
		(function init() {
			const qrImg = document.getElementById('qr');
			let targetUrl;
			
			// Kiểm tra nếu đang chạy local (file://) hoặc trên web server
			if (window.location.protocol === 'file:') {
				// Local file: không thể tạo QR với relative path
				// Dùng URL mẫu hoặc thông báo
				// Khi upload lên Netlify, URL sẽ tự động đúng
				targetUrl = 'https://brilliant-rolypoly-a9c4d8.netlify.app/index.html';
			} else {
				// Web server: tạo URL đầy đủ
				try {
					const base = new URL(window.location.href);
					base.pathname = base.pathname.replace(/[^/]+$/i, 'index.html');
					targetUrl = base.toString();
				} catch {
					targetUrl = window.location.origin + '/index.html';
				}
			}
			
			qrImg.src = buildQrSrc(targetUrl);
		})();
	</script>
</body>
</html>


